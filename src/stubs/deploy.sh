#!/bin/bash
#------------------------------------------------------------------------------------------------------------------------------>
#------------------------------------- INSTALLATION ET CONFIGURATION DU SERVEUR ----------------------------------------------->
#------------------------------------------------------------------------------------------------------------------------------>

#------------------------------------------------------------------------------------------------------------------------------>
# IP ADDRESS FOR THE REMOTE SERVER
#------------------------------------------------------------------------------------------------------------------------------>
HOST=@host

#------------------------------------------------------------------------------------------------------------------------------>
# USER WHO WILL BE USED TO LAUNCH THE TASKS ON THE SERVER
# THIS ONE MUST BE ABLE TO CONNECT IN SSH ON THE REMOTE MACHINE WITHOUT PASSWORD
#------------------------------------------------------------------------------------------------------------------------------>
REMOTE_DEFAULT_USER=@whoami

#------------------------------------------------------------------------------------------------------------------------------>
# THE PROJECT NAME. THIS VALUE SHOULD NOT BE CHANGED
#------------------------------------------------------------------------------------------------------------------------------>
APPLICATION=@application

#------------------------------------------------------------------------------------------------------------------------------>
# THE USER TO CREATE
#------------------------------------------------------------------------------------------------------------------------------>
USER=@application

#------------------------------------------------------------------------------------------------------------------------------>
# THE DATABASE CONNECTION.
# AUTHORIZED VALUES ARE MYSQL AND SQLITE
#------------------------------------------------------------------------------------------------------------------------------>
DATABASE_CONNECTION=@dbconnection

#------------------------------------------------------------------------------------------------------------------------------>
# THE DATABASE TO CREATE.
#------------------------------------------------------------------------------------------------------------------------------>
DATABASE_NAME=@application

#------------------------------------------------------------------------------------------------------------------------------>
# THE DATABASE USER.
# IGNORED WHEN DATABASE_CONNECTION IS SQLITE
#------------------------------------------------------------------------------------------------------------------------------>
DATABASE_USER=@application

#------------------------------------------------------------------------------------------------------------------------------>
# THE VERSION OF NODE JS (LTS) TO INSTALL
#------------------------------------------------------------------------------------------------------------------------------>
NODEJS_VERSION=@nodeversion

#------------------------------------------------------------------------------------------------------------------------------>
# PHP HYPERTEXT PROCESSOR
#------------------------------------------------------------------------------------------------------------------------------>
PHP_VERSION=@phpversion
PHP_MEMORY_LIMIT=128M
PHP_UPLOAD_MAX_FILESIZE=50M
PHP_POST_MAX_SIZE=50M

#------------------------------------------------------------------------------------------------------------------------------>
# ZSH SHELL
#------------------------------------------------------------------------------------------------------------------------------>
ZSH_THEME=random
ZSH_PLUGINS="git composer npm sudo"

#------------------------------------------------------------------------------------------------------------------------------>
# VIM EDITOR
#------------------------------------------------------------------------------------------------------------------------------>
VIM_RC_URL=https://raw.githubusercontent.com/amix/vimrc/master/vimrcs/basic.vim
VIM_SET_NUMBER=yes


#------------------------------------------------------------------------------------------------------------------------------>
#------------------------------------------------------ DEPLOYMENT ------------------------------------------------------------>
#------------------------------------------------------------------------------------------------------------------------------>

#------------------------------------------------------------------------------------------------------------------------------>
# THE USER WHO WILL RUN THE SERVER IN PHP. IN MOST CASES THE VALUE IS WWW-DATA (NGINX && APACHE)
#------------------------------------------------------------------------------------------------------------------------------>
REMOTE_SERVER_USER=www-data

#------------------------------------------------------------------------------------------------------------------------------>
# THE WEBSITE DOMAIN WITHOUT HTTP OR HTTPS
#------------------------------------------------------------------------------------------------------------------------------>
DOMAIN=@domain

#------------------------------------------------------------------------------------------------------------------------------>
# THE DEFAULT DOMAIN OF THE SERVER. CELUI QUI SERA CHARGE DE GERER LE DOMAIN DE L'IP QUI POINTE
#------------------------------------------------------------------------------------------------------------------------------>
DEFAULT_NGINX_SERVEUR=@domain

#------------------------------------------------------------------------------------------------------------------------------>
# THE STRATEGY USED TO GET THE SOURCE FILES (GIT CLONE (REMOTE) OR GIT ARCHIVE (LOCAL))
#------------------------------------------------------------------------------------------------------------------------------>
COPY_STRATEGY=archive # or archive

#------------------------------------------------------------------------------------------------------------------------------>
# LE FICHIERS A EXCLURE LORS DE LA CREATION DE L'ARCHIVE IN LARAVEL FOLDER. SEPARER PAR UN ESPACE SI PLUSIEURS FICHIERS
#------------------------------------------------------------------------------------------------------------------------------>
ARCHIVE_INGORED_FILES="database/*.sqlite"

#------------------------------------------------------------------------------------------------------------------------------>
# LE DOSSIERS A EXCLURE LORS DE LA CREATION DE L'ARCHIVE IN LARAVEL FOLDER. SEPARER PAR UN ESPACE SI PLUSIEURS DOSSIERS
#------------------------------------------------------------------------------------------------------------------------------>
ARCHIVE_INGORED_FOLDERS="storage"

#------------------------------------------------------------------------------------------------------------------------------>
# THE REPOSITORY'S URL TO USE IF THE COPY_STRATEGY IS CLONE. NOT USED THE COPY_STRATEGY IS ARCHIVE
#------------------------------------------------------------------------------------------------------------------------------>
REPOSITORY=
#------------------------------------------------------------------------------------------------------------------------------>
# THE BRANCH TO CLONE IF THE COPY_STRATEGY IS CLONE. NOT USED THE COPY_STRATEGY IS ARCHIVE
#------------------------------------------------------------------------------------------------------------------------------>
BRANCH=@branch

#------------------------------------------------------------------------------------------------------------------------------>
# THE NAME OF THE ARCHIVE THAT WILL BE CREATED WHEN COPYING THE SOURCE CODE
#------------------------------------------------------------------------------------------------------------------------------>
ARCHIVE=@application

#------------------------------------------------------------------------------------------------------------------------------>
# THE NUMBER OF RELEASES TO KEEP
#------------------------------------------------------------------------------------------------------------------------------>
KEEP_RELEASES=5

#------------------------------------------------------------------------------------------------------------------------------>
# BUILD JAVASCRIPT AND CSS FILES WITH NPM
#------------------------------------------------------------------------------------------------------------------------------>
BUILD_JAVASCRIPT=no

#------------------------------------------------------------------------------------------------------------------------------>
# ADD CRON JOB SCHEDULER
#------------------------------------------------------------------------------------------------------------------------------>
SCHEDULER=yes

#------------------------------------------------------------------------------------------------------------------------------>
# INSTALL LARAVEL HORIZON TO MANAGE QUEUES
#------------------------------------------------------------------------------------------------------------------------------>
HORIZON=no


#------------------------------------------------------------------------------------------------------------------------------>
# USE LARAVEL TELESCOPE
#------------------------------------------------------------------------------------------------------------------------------>
TELESCOPE=no

#------------------------------------------------------------------------------------------------------------------------------>
# LE MAIL QUI SERA UTILISÉ POUR REDIRIGÉRE TOUS LES MAILS ENVOYER À L'UTILISATEUR ROOT
# NO OU FALSE POUR DÉSACTIVER  OU LE MAIL POUR ENVOYER
#------------------------------------------------------------------------------------------------------------------------------>
FORWARD_ROOT_EMAILS=no


#------------------------------------------------------------------------------------------------------------------------------>
#---------------------------------------------------- DUMPS (BACKUP) ---------------------------------------------------------->
#------------------------------------------------------------------------------------------------------------------------------>

#------------------------------------------------------------------------------------------------------------------------------>
# THE PATH OF THE DATABASE DUMP FILE
#------------------------------------------------------------------------------------------------------------------------------>
DB_DUMP_PATH=@pwd

#------------------------------------------------------------------------------------------------------------------------------>
# CHANGE ADMINISTRATOR PASSWORD
#------------------------------------------------------------------------------------------------------------------------------>
DB_DUMP_CHANGE_ADMINISTRATORS_PASSWORD=yes

#------------------------------------------------------------------------------------------------------------------------------>
# ADMINISTRATORS TABLE NAME
#------------------------------------------------------------------------------------------------------------------------------>
DB_DUMP_ADMINISTRATORS_TABLE_NAME=admins

#------------------------------------------------------------------------------------------------------------------------------>
# ADMINISTRATORS EMAILS. SEPARATE WITH SPACE
#------------------------------------------------------------------------------------------------------------------------------>
DB_DUMP_ADMINISTRATORS_EMAILS=


#------------------------------------------------------------------------------------------------------------------------------>
# THE PATH OF THE STORAGE FOLDER DUMP FILE
#------------------------------------------------------------------------------------------------------------------------------>
STORAGE_DUMP_PATH=@pwd

#------------------------------------------------------------------------------------------------------------------------------>
#-------------------------------------------------------- DKIM ---------------------------------------------------------------->
#------------------------------------------------------------------------------------------------------------------------------>

#------------------------------------------------------------------------------------------------------------------------------>
# GENERATE DKIM KEYS FOR EMAIL ENCRYPTION
#------------------------------------------------------------------------------------------------------------------------------>
DKIM_KEYS=yes

#------------------------------------------------------------------------------------------------------------------------------>
# IN THE ANSISTRANO SHARED FOLDER
#------------------------------------------------------------------------------------------------------------------------------>
DKIM_STORAGE_PRIVATE_KEY_PATH=storage/dkim/dkim.private.key
DKIM_STORAGE_PUBLIC_KEY_PATH=storage/dkim/dkim.public.key

#------------------------------------------------------------------------------------------------------------------------------>
# DISPLAY THE PUBLIC KEY IN CONSOLE IN ORDER TO COPY IT AND PUT IT ON THE HOST OF THE DOMAIN
#------------------------------------------------------------------------------------------------------------------------------>
SHOW_DKIM_PUBLIC_KEY=yes
